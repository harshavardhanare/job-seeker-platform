{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./jobseeker.css';import{motion}from'framer-motion';// Import Framer Motion for animations\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ViewJobsPosted(){const[jobseekerData,setJobSeekerData]=useState(\"\");useEffect(()=>{const storedJobSeekerData=localStorage.getItem('jobseeker');if(storedJobSeekerData){const parsedJobSeekerData=JSON.parse(storedJobSeekerData);setJobSeekerData(parsedJobSeekerData);}},[]);const[jobs,setJobs]=useState([]);const[message,setMessage]=useState('');const[error,setError]=useState('');const fetchJobs=async()=>{try{const response=await axios.get(`http://localhost:2032/viewjobsbyjobseeker/`);setJobs(response.data);}catch(error){console.error(error.message);}};useEffect(()=>{fetchJobs();},[]);// Added dependency array to avoid infinite re-renders\nconst applyJob=async(jobid,jobseekeremail)=>{try{const response=await axios.post('http://localhost:2032/applyjob',{jobid,jobseekeremail});fetchJobs();setMessage(response.data);setError('');}catch(error){setError(error.response.data);setMessage('');}};return/*#__PURE__*/_jsxs(motion.div,{className:\"table-container\",initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Posted Jobs\"}),message?/*#__PURE__*/_jsx(\"h4\",{align:\"center\",style:{color:\"green\"},children:message}):/*#__PURE__*/_jsx(\"h4\",{align:\"center\",style:{color:\"red\"},children:error}),/*#__PURE__*/_jsxs(motion.table,{className:\"job-table mx-auto\",align:\"center\",initial:{y:-20},animate:{y:0},transition:{duration:0.5},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"JOB ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Deadline\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Posted By\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Posted Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Array.isArray(jobs)&&jobs.length>0?jobs.map((job,index)=>/*#__PURE__*/_jsxs(motion.tr,{whileHover:{scale:1.02},children:[/*#__PURE__*/_jsx(\"td\",{children:job.jobid}),/*#__PURE__*/_jsx(\"td\",{children:job.title}),/*#__PURE__*/_jsx(\"td\",{children:job.company}),/*#__PURE__*/_jsx(\"td\",{children:job.location}),/*#__PURE__*/_jsx(\"td\",{children:job.salary}),/*#__PURE__*/_jsx(\"td\",{children:job.deadline}),/*#__PURE__*/_jsx(\"td\",{children:job.recruiter.fullname}),/*#__PURE__*/_jsx(\"td\",{children:job.postedtime}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(motion.button,{className:\"button\",onClick:()=>applyJob(job.jobid,jobseekerData.email),whileHover:{scale:1.1},whileTap:{scale:0.9},children:\"Apply\"})})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"9\",children:\"Data Not Found\"})})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","motion","jsx","_jsx","jsxs","_jsxs","ViewJobsPosted","jobseekerData","setJobSeekerData","storedJobSeekerData","localStorage","getItem","parsedJobSeekerData","JSON","parse","jobs","setJobs","message","setMessage","error","setError","fetchJobs","response","get","data","console","applyJob","jobid","jobseekeremail","post","div","className","initial","opacity","animate","transition","duration","children","align","style","color","table","y","Array","isArray","length","map","job","index","tr","whileHover","scale","title","company","location","salary","deadline","recruiter","fullname","postedtime","button","onClick","email","whileTap","colSpan"],"sources":["C:/MSWDPROJECT/frontendapp/demoreactapp/src/jobseeker/ViewJobsPosted.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './jobseeker.css';\r\nimport { motion } from 'framer-motion'; // Import Framer Motion for animations\r\n\r\nexport default function ViewJobsPosted() \r\n{\r\n  const [jobseekerData, setJobSeekerData] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const storedJobSeekerData = localStorage.getItem('jobseeker');\r\n    if (storedJobSeekerData) {\r\n      const parsedJobSeekerData = JSON.parse(storedJobSeekerData);\r\n      setJobSeekerData(parsedJobSeekerData)\r\n    }\r\n  }, []);\r\n\r\n  const [jobs, setJobs] = useState([]);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  \r\n  const fetchJobs = async () => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:2032/viewjobsbyjobseeker/`);\r\n      setJobs(response.data);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchJobs();\r\n  }, []); // Added dependency array to avoid infinite re-renders\r\n\r\n  const applyJob = async (jobid, jobseekeremail) => {\r\n    try \r\n    {\r\n      const response = await axios.post('http://localhost:2032/applyjob', { jobid, jobseekeremail });\r\n      fetchJobs();\r\n      setMessage(response.data);\r\n      setError('');\r\n    } \r\n    catch (error) \r\n    {\r\n      setError(error.response.data);\r\n      setMessage('');\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <motion.div \r\n      className=\"table-container\"\r\n      initial={{ opacity: 0 }} \r\n      animate={{ opacity: 1 }} \r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <h3>Posted Jobs</h3>\r\n      {\r\n        message ? <h4 align=\"center\" style={{ color: \"green\" }}>{message}</h4> : <h4 align=\"center\" style={{ color: \"red\" }}>{error}</h4>\r\n      }\r\n      <motion.table \r\n        className=\"job-table mx-auto\" \r\n        align='center'\r\n        initial={{ y: -20 }} \r\n        animate={{ y: 0 }} \r\n        transition={{ duration: 0.5 }}\r\n      >\r\n        <thead>\r\n          <tr>\r\n            <th>JOB ID</th>\r\n            <th>Title</th>\r\n            <th>Company</th>\r\n            <th>Location</th>\r\n            <th>Salary</th>\r\n            <th>Deadline</th>\r\n            <th>Posted By</th>\r\n            <th>Posted Time</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.isArray(jobs) && jobs.length > 0 ? (\r\n            jobs.map((job, index) => (\r\n              <motion.tr \r\n                key={index} \r\n                whileHover={{ scale: 1.02 }}\r\n              >\r\n                <td>{job.jobid}</td>\r\n                <td>{job.title}</td>\r\n                <td>{job.company}</td>\r\n                <td>{job.location}</td>\r\n                <td>{job.salary}</td>\r\n                <td>{job.deadline}</td>\r\n                <td>{job.recruiter.fullname}</td>\r\n                <td>{job.postedtime}</td>\r\n                <td>\r\n                  <motion.button \r\n                    className='button' \r\n                    onClick={() => applyJob(job.jobid, jobseekerData.email)}\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                  >\r\n                    Apply\r\n                  </motion.button>\r\n                </td>\r\n              </motion.tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"9\">Data Not Found</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </motion.table>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}