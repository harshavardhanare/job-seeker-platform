{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{motion}from'framer-motion';// Import Framer Motion for animations\nimport'./jobseeker.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UpdateJSProfile(){const[jobseekerData,setJobSeekerData]=useState({fullname:'',gender:'',dateofbirth:'',email:'',password:'',location:'',contact:''});const[message,setMessage]=useState('');const[error,setError]=useState('');const[initialJobseekerData,setInitialJobseekerData]=useState({});useEffect(()=>{// Retrieve job seeker data from local storage\nconst storedJobSeekerData=localStorage.getItem('jobseeker');if(storedJobSeekerData){const parsedJobSeekerData=JSON.parse(storedJobSeekerData);setJobSeekerData(parsedJobSeekerData);setInitialJobseekerData(parsedJobSeekerData);}},[]);// Handle input field changes\nconst handleChange=e=>{setJobSeekerData({...jobseekerData,[e.target.id]:e.target.value});};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();try{const updatedData={};for(const key in jobseekerData){if(jobseekerData[key]!==initialJobseekerData[key]&&initialJobseekerData[key]!==''){updatedData[key]=jobseekerData[key];}}if(Object.keys(updatedData).length!==0){updatedData.email=jobseekerData.email;const response=await axios.put('http://localhost:2032/updatejobseekerprofile',updatedData);setMessage(response.data);setError('');const res=await axios.get(`http://localhost:2032/jobseekerprofile/${jobseekerData.email}`);localStorage.setItem(\"jobseeker\",JSON.stringify(res.data));}else{setMessage(\"No Changes in Job Seeker Profile\");setError(\"\");}}catch(error){setError(error.response.data);setMessage('');}};return/*#__PURE__*/_jsxs(motion.div,{className:\"update-profile-container\",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6,ease:'easeOut'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"profile-title\",children:\"Update Profile\"}),message?/*#__PURE__*/_jsx(\"h4\",{className:\"success-message\",children:message}):/*#__PURE__*/_jsx(\"h4\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(motion.form,{onSubmit:handleSubmit,className:\"update-profile-form\",initial:{scale:0.95},animate:{scale:1},transition:{duration:0.5},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"fullname\",value:jobseekerData.fullname,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"gender\",value:jobseekerData.gender,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date of Birth\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dateofbirth\",value:jobseekerData.dateofbirth,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:jobseekerData.email,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:jobseekerData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"location\",value:jobseekerData.location,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"contact\",value:jobseekerData.contact,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(motion.button,{type:\"submit\",className:\"update-button\",whileHover:{scale:1.05},whileTap:{scale:0.95},children:\"Update\"})]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","motion","jsx","_jsx","jsxs","_jsxs","UpdateJSProfile","jobseekerData","setJobSeekerData","fullname","gender","dateofbirth","email","password","location","contact","message","setMessage","error","setError","initialJobseekerData","setInitialJobseekerData","storedJobSeekerData","localStorage","getItem","parsedJobSeekerData","JSON","parse","handleChange","e","target","id","value","handleSubmit","preventDefault","updatedData","key","Object","keys","length","response","put","data","res","get","setItem","stringify","div","className","initial","opacity","y","animate","transition","duration","ease","children","form","onSubmit","scale","type","onChange","required","readOnly","button","whileHover","whileTap"],"sources":["C:/MSWDPROJECT/frontendapp/demoreactapp/src/jobseeker/UpdateJSProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { motion } from 'framer-motion'; // Import Framer Motion for animations\r\nimport './jobseeker.css';\r\n\r\nexport default function UpdateJSProfile() {\r\n  const [jobseekerData, setJobSeekerData] = useState({\r\n    fullname: '',\r\n    gender: '',\r\n    dateofbirth: '',\r\n    email: '',\r\n    password: '',\r\n    location: '',\r\n    contact: ''\r\n  });\r\n\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [initialJobseekerData, setInitialJobseekerData] = useState({});\r\n\r\n  useEffect(() => {\r\n    // Retrieve job seeker data from local storage\r\n    const storedJobSeekerData = localStorage.getItem('jobseeker');\r\n    if (storedJobSeekerData) {\r\n      const parsedJobSeekerData = JSON.parse(storedJobSeekerData);\r\n      setJobSeekerData(parsedJobSeekerData);\r\n      setInitialJobseekerData(parsedJobSeekerData);\r\n    }\r\n  }, []);\r\n\r\n  // Handle input field changes\r\n  const handleChange = (e) => {\r\n    setJobSeekerData({ ...jobseekerData, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const updatedData = {};\r\n      for (const key in jobseekerData) {\r\n        if (jobseekerData[key] !== initialJobseekerData[key] && initialJobseekerData[key] !== '') {\r\n          updatedData[key] = jobseekerData[key];\r\n        }\r\n      }\r\n      if (Object.keys(updatedData).length !== 0) {\r\n        updatedData.email = jobseekerData.email;\r\n        const response = await axios.put('http://localhost:2032/updatejobseekerprofile', updatedData);\r\n        setMessage(response.data);\r\n        setError('');\r\n        const res = await axios.get(`http://localhost:2032/jobseekerprofile/${jobseekerData.email}`);\r\n        localStorage.setItem(\"jobseeker\", JSON.stringify(res.data));\r\n      } else {\r\n        setMessage(\"No Changes in Job Seeker Profile\");\r\n        setError(\"\");\r\n      }\r\n    } catch (error) {\r\n      setError(error.response.data);\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"update-profile-container\"\r\n      initial={{ opacity: 0, y: -20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.6, ease: 'easeOut' }}\r\n    >\r\n      <h3 className=\"profile-title\">Update Profile</h3>\r\n      {message ? <h4 className=\"success-message\">{message}</h4> : <h4 className=\"error-message\">{error}</h4>}\r\n\r\n      <motion.form\r\n        onSubmit={handleSubmit}\r\n        className=\"update-profile-form\"\r\n        initial={{ scale: 0.95 }}\r\n        animate={{ scale: 1 }}\r\n        transition={{ duration: 0.5 }}\r\n      >\r\n        <div className=\"form-group\">\r\n          <label>Full Name</label>\r\n          <input type=\"text\" id=\"fullname\" value={jobseekerData.fullname} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Gender</label>\r\n          <input type=\"text\" id=\"gender\" value={jobseekerData.gender} readOnly />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Date of Birth</label>\r\n          <input type=\"date\" id=\"dateofbirth\" value={jobseekerData.dateofbirth} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Email</label>\r\n          <input type=\"email\" id=\"email\" value={jobseekerData.email} readOnly />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Password</label>\r\n          <input type=\"password\" id=\"password\" value={jobseekerData.password} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Location</label>\r\n          <input type=\"text\" id=\"location\" value={jobseekerData.location} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Contact</label>\r\n          <input type=\"number\" id=\"contact\" value={jobseekerData.contact} onChange={handleChange} required />\r\n        </div>\r\n        <motion.button\r\n          type=\"submit\"\r\n          className=\"update-button\"\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n        >\r\n          Update\r\n        </motion.button>\r\n      </motion.form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}