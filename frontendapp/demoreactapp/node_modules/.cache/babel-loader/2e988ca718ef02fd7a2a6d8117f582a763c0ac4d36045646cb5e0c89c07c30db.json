{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';// Import Framer Motion for animations\nimport'./admin.css';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ChangeAdminPwd(){const[adminData,setAdminData]=useState(\"\");// Retrieve admin data from localStorage when the component mounts\nuseEffect(()=>{const storedAdminData=localStorage.getItem('admin');if(storedAdminData){const parsedAdminData=JSON.parse(storedAdminData);setAdminData(parsedAdminData);}},[]);const[formData,setFormData]=useState({oldpassword:'',newpassword:''});const[message,setMessage]=useState(\"\");const[error,setError]=useState(\"\");const navigate=useNavigate();// Handle input changes\nconst handleChange=e=>{const{id,value}=e.target;setFormData({...formData,[id]:value});};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();try{const response=await axios.put('http://localhost:2032/changeadminpwd',{...formData,\"username\":adminData.username});if(response.data!=null){// Clear admin session and redirect to login\nlocalStorage.removeItem('isAdminLoggedIn');localStorage.removeItem('admin');navigate('/adminlogin');window.location.reload();}else{setMessage(\"Old Password is Incorrect\");setError(\"\");}}catch(error){setMessage(\"\");setError(error.response.data);}};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.8},className:\"change-password-container\",children:[/*#__PURE__*/_jsx(\"h3\",{align:\"center\",children:/*#__PURE__*/_jsx(\"u\",{children:\"Change Password\"})}),message?/*#__PURE__*/_jsx(motion.h4,{align:\"center\",initial:{opacity:0},animate:{opacity:1},children:message}):/*#__PURE__*/_jsx(motion.h4,{align:\"center\",style:{color:\"red\"},initial:{opacity:0},animate:{opacity:1},children:error}),/*#__PURE__*/_jsxs(motion.form,{onSubmit:handleSubmit,initial:{opacity:0},animate:{opacity:1},transition:{delay:0.2,duration:0.8},children:[/*#__PURE__*/_jsxs(motion.div,{whileFocus:{scale:1.05},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Old Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"oldpassword\",value:formData.oldpassword,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(motion.div,{whileFocus:{scale:1.05},children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"newpassword\",value:formData.newpassword,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(motion.input,{type:\"submit\",value:\"Change\",className:\"button\",whileHover:{scale:1.1,backgroundColor:\"#4CAF50\"},whileTap:{scale:0.9}})]})]});}","map":{"version":3,"names":["React","useState","useEffect","motion","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","ChangeAdminPwd","adminData","setAdminData","storedAdminData","localStorage","getItem","parsedAdminData","JSON","parse","formData","setFormData","oldpassword","newpassword","message","setMessage","error","setError","navigate","handleChange","e","id","value","target","handleSubmit","preventDefault","response","put","username","data","removeItem","window","location","reload","div","initial","opacity","y","animate","transition","duration","className","children","align","h4","style","color","form","onSubmit","delay","whileFocus","scale","type","onChange","required","input","whileHover","backgroundColor","whileTap"],"sources":["C:/MSWDPROJECT/frontendapp/demoreactapp/src/admin/ChangeAdminPwd.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion'; // Import Framer Motion for animations\r\nimport './admin.css';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function ChangeAdminPwd() {\r\n  const [adminData, setAdminData] = useState(\"\");\r\n\r\n  // Retrieve admin data from localStorage when the component mounts\r\n  useEffect(() => {\r\n    const storedAdminData = localStorage.getItem('admin');\r\n    if (storedAdminData) {\r\n      const parsedAdminData = JSON.parse(storedAdminData);\r\n      setAdminData(parsedAdminData);\r\n    }\r\n  }, []);\r\n\r\n  const [formData, setFormData] = useState({\r\n    oldpassword: '',\r\n    newpassword: ''\r\n  });\r\n  const [message, setMessage] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Handle input changes\r\n  const handleChange = (e) => {\r\n    const { id, value } = e.target;\r\n    setFormData({ ...formData, [id]: value });\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.put('http://localhost:2032/changeadminpwd', { \r\n        ...formData, \r\n        \"username\": adminData.username \r\n      });\r\n\r\n      if (response.data != null) {\r\n        // Clear admin session and redirect to login\r\n        localStorage.removeItem('isAdminLoggedIn');\r\n        localStorage.removeItem('admin');\r\n        navigate('/adminlogin');\r\n        window.location.reload();\r\n      } else {\r\n        setMessage(\"Old Password is Incorrect\");\r\n        setError(\"\");\r\n      }\r\n    } catch (error) {\r\n      setMessage(\"\");\r\n      setError(error.response.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div \r\n      initial={{ opacity: 0, y: -20 }} \r\n      animate={{ opacity: 1, y: 0 }} \r\n      transition={{ duration: 0.8 }}\r\n      className=\"change-password-container\"\r\n    >\r\n      {/* Page Title */}\r\n      <h3 align=\"center\"><u>Change Password</u></h3>\r\n\r\n      {/* Display Messages */}\r\n      {message ? (\r\n        <motion.h4 align=\"center\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\r\n          {message}\r\n        </motion.h4>\r\n      ) : (\r\n        <motion.h4 align=\"center\" style={{ color: \"red\" }} initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\r\n          {error}\r\n        </motion.h4>\r\n      )}\r\n\r\n      {/* Password Change Form */}\r\n      <motion.form onSubmit={handleSubmit} \r\n        initial={{ opacity: 0 }} \r\n        animate={{ opacity: 1 }} \r\n        transition={{ delay: 0.2, duration: 0.8 }}\r\n      >\r\n        {/* Old Password Field */}\r\n        <motion.div whileFocus={{ scale: 1.05 }}>\r\n          <label>Old Password</label>\r\n          <input type=\"password\" id=\"oldpassword\" value={formData.oldpassword} onChange={handleChange} required />\r\n        </motion.div>\r\n\r\n        {/* New Password Field */}\r\n        <motion.div whileFocus={{ scale: 1.05 }}>\r\n          <label>New Password</label>\r\n          <input type=\"password\" id=\"newpassword\" value={formData.newpassword} onChange={handleChange} required />\r\n        </motion.div>\r\n\r\n        {/* Submit Button */}\r\n        <motion.input \r\n          type=\"submit\" \r\n          value=\"Change\" \r\n          className=\"button\"\r\n          whileHover={{ scale: 1.1, backgroundColor: \"#4CAF50\" }}\r\n          whileTap={{ scale: 0.9 }}\r\n        />\r\n      </motion.form>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}