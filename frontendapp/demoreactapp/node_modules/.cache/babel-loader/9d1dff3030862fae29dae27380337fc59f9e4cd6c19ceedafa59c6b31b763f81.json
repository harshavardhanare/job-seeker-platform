{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{motion}from'framer-motion';// Import Framer Motion for animations\nimport'./recruiter.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ViewJobApplicants(){// State to store recruiter data\nconst[recruiterData,setRecruiterData]=useState(\"\");const[message,setMessage]=useState('');const[error,setError]=useState('');const[jobApplicants,setJobApplicants]=useState([]);// Fetch recruiter data from local storage when component mounts\nuseEffect(()=>{const storedRecruiterData=localStorage.getItem('recruiter');if(storedRecruiterData){const parsedRecruiterData=JSON.parse(storedRecruiterData);setRecruiterData(parsedRecruiterData);}},[]);// Fetch job applicants for the recruiter\nconst fetchJobApplicants=async()=>{try{const response=await axios.get(`http://localhost:2032/viewjobapplicants/${recruiterData.username}`);setJobApplicants(response.data);setError('');}catch(error){setError(error.response.data||\"Error fetching job applicants\");}};// Fetch job applicants when the component mounts\nuseEffect(()=>{fetchJobApplicants();},[]);// Handle status change for job applicants\nconst handleStatusChange=async(applicantId,status)=>{try{const response=await axios.post('http://localhost:2032/changejobstatus',{applicantId,status});fetchJobApplicants();// Refresh job applicants after status change\nsetMessage(response.data);setError('');}catch(error){setError(error.response.data||\"Error updating job status\");setMessage('');}};return/*#__PURE__*/_jsxs(motion.div,{className:\"table-container\",initial:{opacity:0,y:-20}// Fade-in and slide down effect\n,animate:{opacity:1,y:0},transition:{duration:0.8,ease:\"easeOut\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Job Applicants\"}),message?/*#__PURE__*/_jsx(motion.h4,{align:\"center\",initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5},children:message}):/*#__PURE__*/_jsx(motion.h4,{align:\"center\",style:{color:\"red\"},initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5},children:error}),/*#__PURE__*/_jsxs(motion.table,{className:\"job-table mx-auto\",align:\"center\",initial:{opacity:0},animate:{opacity:1},transition:{duration:0.7},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Applicant ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Job ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Applied Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:Array.isArray(jobApplicants)&&jobApplicants.length>0?jobApplicants.map((applicant,index)=>/*#__PURE__*/_jsxs(motion.tr,{whileHover:{scale:1.02}// Slight hover effect for rows\n,children:[/*#__PURE__*/_jsx(\"td\",{children:applicant.applicantId}),/*#__PURE__*/_jsx(\"td\",{children:applicant.jobid}),/*#__PURE__*/_jsx(\"td\",{style:{backgroundColor:applicant.jobStatus==='SELECTED'?'green':'red',color:\"white\",fontWeight:\"bold\"},children:applicant.jobStatus==='SELECTED'?'SELECTED':'REJECTED'}),/*#__PURE__*/_jsx(\"td\",{children:applicant.appliedTime}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(motion.button,{className:\"selected\",onClick:()=>handleStatusChange(applicant.applicantId,\"SELECTED\"),whileHover:{scale:1.1},children:\"SELECTED\"}),/*#__PURE__*/_jsx(motion.button,{className:\"rejected\",onClick:()=>handleStatusChange(applicant.applicantId,\"REJECTED\"),whileHover:{scale:1.1},children:\"REJECTED\"})]})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",children:\"No Job Applications found\"})})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","motion","jsx","_jsx","jsxs","_jsxs","ViewJobApplicants","recruiterData","setRecruiterData","message","setMessage","error","setError","jobApplicants","setJobApplicants","storedRecruiterData","localStorage","getItem","parsedRecruiterData","JSON","parse","fetchJobApplicants","response","get","username","data","handleStatusChange","applicantId","status","post","div","className","initial","opacity","y","animate","transition","duration","ease","children","h4","align","style","color","table","Array","isArray","length","map","applicant","index","tr","whileHover","scale","jobid","backgroundColor","jobStatus","fontWeight","appliedTime","button","onClick","colSpan"],"sources":["C:/MSWDPROJECT/frontendapp/demoreactapp/src/recruiter/ViewJobApplicants.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { motion } from 'framer-motion'; // Import Framer Motion for animations\r\nimport './recruiter.css';\r\n\r\nexport default function ViewJobApplicants() {\r\n  // State to store recruiter data\r\n  const [recruiterData, setRecruiterData] = useState(\"\");\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [jobApplicants, setJobApplicants] = useState([]);\r\n\r\n  // Fetch recruiter data from local storage when component mounts\r\n  useEffect(() => {\r\n    const storedRecruiterData = localStorage.getItem('recruiter');\r\n    if (storedRecruiterData) {\r\n      const parsedRecruiterData = JSON.parse(storedRecruiterData);\r\n      setRecruiterData(parsedRecruiterData);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch job applicants for the recruiter\r\n  const fetchJobApplicants = async () => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:2032/viewjobapplicants/${recruiterData.username}`);\r\n      setJobApplicants(response.data);\r\n      setError('');\r\n    } catch (error) {\r\n      setError(error.response.data || \"Error fetching job applicants\");\r\n    }\r\n  };\r\n\r\n  // Fetch job applicants when the component mounts\r\n  useEffect(() => {\r\n    fetchJobApplicants();\r\n  }, []); \r\n\r\n  // Handle status change for job applicants\r\n  const handleStatusChange = async (applicantId, status) => {\r\n    try {\r\n      const response = await axios.post('http://localhost:2032/changejobstatus', { applicantId, status });\r\n      fetchJobApplicants(); // Refresh job applicants after status change\r\n      setMessage(response.data);\r\n      setError('');\r\n    } catch (error) {\r\n      setError(error.response.data || \"Error updating job status\");\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div \r\n      className=\"table-container\"\r\n      initial={{ opacity: 0, y: -20 }} // Fade-in and slide down effect\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n    >\r\n      <h3>Job Applicants</h3>\r\n\r\n      {message ? (\r\n        <motion.h4 \r\n          align=\"center\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.5 }}\r\n        >\r\n          {message}\r\n        </motion.h4>\r\n      ) : (\r\n        <motion.h4 \r\n          align=\"center\" \r\n          style={{ color: \"red\" }}\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.5 }}\r\n        >\r\n          {error}\r\n        </motion.h4>\r\n      )}\r\n\r\n      {/* Animated table for job applicants */}\r\n      <motion.table \r\n        className=\"job-table mx-auto\"\r\n        align='center'\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ duration: 0.7 }}\r\n      >\r\n        <thead>\r\n          <tr>\r\n            <th>Applicant ID</th>\r\n            <th>Job ID</th>\r\n            <th>Status</th>\r\n            <th>Applied Time</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.isArray(jobApplicants) && jobApplicants.length > 0 ? (\r\n            jobApplicants.map((applicant, index) => (\r\n              <motion.tr \r\n                key={index} \r\n                whileHover={{ scale: 1.02 }} // Slight hover effect for rows\r\n              >\r\n                <td>{applicant.applicantId}</td>\r\n                <td>{applicant.jobid}</td>\r\n                <td \r\n                  style={{ \r\n                    backgroundColor: applicant.jobStatus === 'SELECTED' ? 'green' : 'red', \r\n                    color: \"white\", \r\n                    fontWeight: \"bold\" \r\n                  }}\r\n                >\r\n                  {applicant.jobStatus === 'SELECTED' ? 'SELECTED' : 'REJECTED'}\r\n                </td>\r\n                <td>{applicant.appliedTime}</td>\r\n                <td>\r\n                  {/* Buttons with smooth hover effects */}\r\n                  <motion.button \r\n                    className='selected' \r\n                    onClick={() => handleStatusChange(applicant.applicantId, \"SELECTED\")}\r\n                    whileHover={{ scale: 1.1 }}\r\n                  >\r\n                    SELECTED\r\n                  </motion.button>\r\n                  <motion.button \r\n                    className='rejected' \r\n                    onClick={() => handleStatusChange(applicant.applicantId, \"REJECTED\")}\r\n                    whileHover={{ scale: 1.1 }}\r\n                  >\r\n                    REJECTED\r\n                  </motion.button>\r\n                </td>\r\n              </motion.tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"5\">No Job Applications found</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </motion.table>\r\n    </motion.div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}